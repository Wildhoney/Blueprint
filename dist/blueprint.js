!function e(t,n,r){function i(a,o){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e["default"]:e},n=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=t(e("./helpers/Dispatcher.js")),s=t(e("./helpers/Groups.js")),a=t(e("./helpers/Events.js")),o=t(e("./helpers/Layers.js")),u=t(e("./helpers/Registry.js")),l=t(e("./shapes/types/Rectangle.js")),c="data-id",f=function(){function e(t){var n=this,f=void 0===arguments[1]?{}:arguments[1];r(this,e),this.element=d3.select(t).attr("width","100%").attr("height","100%"),this.shapes=[],this.options=_.assign(this.defaultOptions(),f),this.dispatcher=new i,this.registry=new u,this.layers=new o,this.groups=new s(this.element),this.label=_.uniqueId("BP"),this.map={rect:l},this.registry.set("z-index",0),this.dispatcher.listen(a.REORDER,function(){var e=d3.selectAll("g["+c+"]");n.registry.set("z-index",n.layers.reorder(e))})}return n(e,null,{add:{value:function(e){var t=this["new"](e),n=this.groups.shapes,r=n.append("g").attr(c,t.label).append(t.getTag()),i={z:this.registry.increment("z-index")};return t.setOptions(this.options),t.setDispatcher(this.dispatcher),t.setElement(r),t.setAttributes(_.assign(i,t.getAttributes())),t.addElements(r),this.shapes.push({shape:t,"interface":t.getInterface()}),t.getInterface()},writable:!0,configurable:!0},remove:{value:function(e){e.remove();var t=this.shapes.indexOf(e);this.shapes.splice(t,1)},writable:!0,configurable:!0},all:{value:function(){return this.shapes.map(function(e){return e["interface"]})},writable:!0,configurable:!0},clear:{value:function(){var e=this;_.forEach(this.shapes,function(t){return e.remove(t)})},writable:!0,configurable:!0},"new":{value:function(e){return new(this.map[e.toLowerCase()])(this.label)},writable:!0,configurable:!0},registerComponent:{value:function(e,t){this.map[e]=t},writable:!0,configurable:!0},defaultOptions:{value:function(){return{}},writable:!0,configurable:!0}}),e}();!function(e){e.Blueprint=f}(window)},{"./helpers/Dispatcher.js":2,"./helpers/Events.js":3,"./helpers/Groups.js":4,"./helpers/Layers.js":6,"./helpers/Registry.js":7,"./shapes/types/Rectangle.js":10}],2:[function(e,t){"use strict";var n=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){r(this,e),this.events=[]}return n(e,null,{send:{value:function(e){var t=void 0===arguments[1]?{}:arguments[1];_.forEach(this.events[e],function(e){return e(t)})},writable:!0,configurable:!0},listen:{value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},writable:!0,configurable:!0}}),e}();t.exports=i},{}],3:[function(e,t){"use strict";t.exports={ATTRIBUTE:"attribute",REORDER:"reorder"}},{}],4:[function(e,t){"use strict";var n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function i(e){n(this,i),this.shapes=e.append("g").classed("shapes",!0),this.handles=e.append("g").classed("handles",!0)};t.exports=r},{}],5:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=n(e("./../helpers/Utility.js")),a=function(){function e(){var t=void 0===arguments[0]?"":arguments[0];i(this,e),this.label=t}return r(e,null,{x:{value:function(e){return this.attr({x:e})},writable:!0,configurable:!0},y:{value:function(e){return this.attr({y:e})},writable:!0,configurable:!0},z:{value:function(e){return this.attr({z:e})},writable:!0,configurable:!0},width:{value:function(e){return this.attr({width:e})},writable:!0,configurable:!0},height:{value:function(e){return this.attr({height:e})},writable:!0,configurable:!0},attr:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];return this.applyAttributes(s.camelifyKeys(e))},writable:!0,configurable:!0},toString:{value:function(){return this.label?"[object Interface: "+this.label+"]":"[object Interface]"},writable:!0,configurable:!0}}),e}();t.exports=a},{"./../helpers/Utility.js":8}],6:[function(e,t){"use strict";var n=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){r(this,e)}return n(e,null,{reorder:{value:function(e){var t=0;return e.sort(function(e,n){return e.z>t&&(t=e.z),n.z>t&&(t=n.z),e.z-n.z}),t},writable:!0,configurable:!0}}),e}();t.exports=i},{}],7:[function(e,t){"use strict";var n=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(){r(this,e),this.properties={}}return n(e,null,{set:{value:function(e,t){this.properties[e]=t},writable:!0,configurable:!0},increment:{value:function(e){return this.set(e,parseInt(this.get(e))+1),this.properties[e]},writable:!0,configurable:!0},decrement:{value:function(e){return this.set(e,parseInt(this.get(e))-1),this.properties[e]},writable:!0,configurable:!0},get:{value:function(e){return this.properties[e]},writable:!0,configurable:!0}}),e}();t.exports=i},{}],8:[function(e,t){"use strict";var n=function(){return{throwException:function(e){throw"Blueprint.js: "+e+"."},transformAttributes:function(e){if(e.transform){var t=e.transform.match(/(\d+)\s*,\s*(\d+)/i),r=parseInt(t[1]),i=parseInt(t[2]);!_.isUndefined(e.x)&&_.isUndefined(e.y)&&(e=_.assign(e,n.pointsToTransform(e.x,i)),delete e.x),_.isUndefined(e.x)&&!_.isUndefined(e.y)&&(e=_.assign(e,n.pointsToTransform(r,e.y)),delete e.y)}return _.isUndefined(e.x)||_.isUndefined(e.y)||(e=_.assign(e,n.pointsToTransform(e.x,e.y)),delete e.x,delete e.y),e},pointsToTransform:function(e,t){return{transform:"translate("+e+", "+t+")"}},camelifyKeys:function(e){var t={};return _.forIn(e,function(e,n){t[_.kebabCase(n)]=e}),t}}}();t.exports=n},{}],9:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=n(e("./../helpers/Interface.js")),a=n(e("./../helpers/Events.js")),o=n(e("./../helpers/Utility.js")),u=function(){function e(){var t=void 0===arguments[0]?"":arguments[0];i(this,e),this.element=null,this.label=t,this["interface"]=null}return r(e,null,{setElement:{value:function(e){this.element=e},writable:!0,configurable:!0},setDispatcher:{value:function(e){this.dispatcher=e},writable:!0,configurable:!0},setOptions:{value:function(e){this.options=e},writable:!0,configurable:!0},getInterface:{value:function(){if(null===this["interface"]){this["interface"]=new s(this.label);var e=this.setAttributes.bind(this);this["interface"].applyAttributes=function(){var t=void 0===arguments[0]?{}:arguments[0];return e(t),this},_.isFunction(this.addMethods)&&(this["interface"]=_.assign(this["interface"],this.addMethods()))}return this["interface"]},writable:!0,configurable:!0},setAttributes:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];if(e=_.assign(this.element.datum()||{},e),e=o.transformAttributes(e),!_.isUndefined(e.z)){var t=d3.select(this.element.node().parentNode);t.datum({z:e.z}),delete e.z,this.dispatcher.send(a.REORDER)}return this.element.datum(e),this.element.attr(this.element.datum()),this["interface"]},writable:!0,configurable:!0},getAttributes:{value:function(){var e={x:0,y:0};return _.isFunction(this.addAttributes)&&(e=_.assign(e,this.addAttributes())),e},writable:!0,configurable:!0},addElements:{value:function(e){return e},writable:!0,configurable:!0},getTag:{value:function(){o.throwException("Shape<"+this.label+"> must define a `getTag` method")},writable:!0,configurable:!0},dispatchAttributeEvent:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];e.element=this,this.dispatcher.send(a.ATTRIBUTE,e)},writable:!0,configurable:!0},toString:{value:function(){var e=this.getTag().charAt(0).toUpperCase()+this.getTag().slice(1);return this.label?"[object "+e+": "+this.label+"]":"[object "+e+"]"},writable:!0,configurable:!0}}),e}();t.exports=u},{"./../helpers/Events.js":3,"./../helpers/Interface.js":5,"./../helpers/Utility.js":8}],10:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=n(e("./../Shape.js")),o=function(e){function t(){s(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),r(t,null,{getTag:{value:function(){return"rect"},writable:!0,configurable:!0},addAttributes:{value:function(){return{fill:"red",width:100,height:100,x:100,y:20}},writable:!0,configurable:!0},addMethods:{value:function(){var e=this;return{fill:function(t){return e.setAttributes({fill:t})}}},writable:!0,configurable:!0}}),t}(a);t.exports=o},{"./../Shape.js":9}]},{},[1]);