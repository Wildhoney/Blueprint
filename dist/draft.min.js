!function e(t,n,r){function u(o,i){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!i&&l)return l(o,!0);if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return u(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)u(r[o]);return u}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./helpers/Middleman.js"),i=r(o),l=e("./helpers/Symbols.js"),s=r(l),f=e("./helpers/Polyfills.js"),c=e("./helpers/Invocator.js"),d=r(c),p=e("./helpers/Mapper.js"),h=r(p),v=function(){function e(t){var n=void 0===arguments[1]?{}:arguments[1];u(this,e),this[s["default"].SHAPES]=[],this[s["default"].OPTIONS]=(Object.assign||f.objectAssign)(this.options(),n),this[s["default"].MIDDLEMAN]=new i["default"](this);var r=this[s["default"].OPTIONS].documentWidth,a=this[s["default"].OPTIONS].documentHeight,o=this[s["default"].SVG]=d3.select(t).attr("width",r).attr("height",a);this[s["default"].GROUPS]={shapes:o.append("g").attr("class","shapes"),markers:o.append("g").attr("class","markers")}}return a(e,[{key:"add",value:function(e){"string"==typeof e&&(e=h["default"](e));var t=this[s["default"].SHAPES];return t.push(e),e[s["default"].MIDDLEMAN]=this[s["default"].MIDDLEMAN],d["default"].did("add",e),e}},{key:"remove",value:function(e){var t=this[s["default"].SHAPES],n=t.indexOf(e);return t.splice(n,1),d["default"].did("remove",e),t.length}},{key:"clear",value:function(){var e=this[s["default"].SHAPES];return d["default"].did("remove",e),e.length=0,e.length}},{key:"all",value:function(){return this[s["default"].SHAPES]}},{key:"select",value:function(){var e=void 0===arguments[0]?this.all():arguments[0];d["default"].did("select",e)}},{key:"deselect",value:function(){var e=void 0===arguments[0]?this.all():arguments[0];d["default"].did("deselect",e)}},{key:"options",value:function(){return this[s["default"].OPTIONS]||{documentHeight:"100%",documentWidth:"100%",gridSize:10}}}]),e}();!function(e){e&&(e.Draft=v)}(window),n["default"]=v,t.exports=n["default"]},{"./helpers/Invocator.js":5,"./helpers/Mapper.js":7,"./helpers/Middleman.js":8,"./helpers/Polyfills.js":9,"./helpers/Symbols.js":10}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("../helpers/Symbols.js"),i=r(o),l=function(){function e(){u(this,e)}return a(e,[{key:"shape",value:function(){return this[i["default"].SHAPE]}},{key:"middleman",value:function(){return this.shape()[i["default"].MIDDLEMAN]}}]),e}();n["default"]=l,t.exports=n["default"]},{"../helpers/Symbols.js":10}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var u=e,a=t,o=n;i=s=l=void 0,r=!1,null===u&&(u=Function.prototype);var i=Object.getOwnPropertyDescriptor(u,a);if(void 0!==i){if("value"in i)return i.value;var l=i.get;return void 0===l?void 0:l.call(o)}var s=Object.getPrototypeOf(u);if(null===s)return void 0;e=s,t=a,n=o,r=!0}},l=e("./Ability.js"),s=r(l),f=e("./../helpers/Symbols.js"),c=r(f),d=function(e){function t(){u(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),o(t,[{key:"didAdd",value:function(){var e=this.shape()[c["default"].ELEMENT];e.on("click",this.handleClick.bind(this))}},{key:"handleClick",value:function(){var e=this.middleman()[c["default"].KEY_MAP];e.multiSelect||this.middleman().deselect({exclude:this.shape()}),this.middleman().select({include:this.shape()})}}]),t}(s["default"]);n["default"]=d,t.exports=n["default"]},{"./../helpers/Symbols.js":10,"./Ability.js":2}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e,t,n){switch(t){case"x":var r=e.datum().y||0;return void e.attr("transform","translate("+n+", "+r+")");case"y":var u=e.datum().x||0;return void e.attr("transform","translate("+u+", "+n+")")}e.attr(t,n)},t.exports=n["default"]},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),u=2;n>u;u++)r[u-2]=arguments[u];return"function"==typeof e[t]?(e[t].apply(e,r),!0):!1},u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};n["default"]=function(){return{did:function(e,t){return t=Array.isArray(t)?t:[t],t.every(function(t){return r(t,"did"+u(e))})},includeExclude:function(e,t,n){var r=n.include,u=n.exclude,a=function(t){return t=Array.isArray(t)?t:[t],e.all().filter(function(e){return!~t.indexOf(e)})};return r?void t.apply(e,[r]):u?void t.apply(e,[a(u)]):void t.apply(e)}}}(),t.exports=n["default"]},{}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Symbols.js"),i=r(o),l=function(){function e(t){u(this,e);var n=t[i["default"].KEY_MAP];this[i["default"].MIDDLEMAN]=t,n.multiSelect=!1,n.aspectRatio=!1,this.attachBindings(n)}return a(e,[{key:"attachBindings",value:function(e){var t=this;Mousetrap.bind("mod+a",function(){return t[i["default"].MIDDLEMAN].select()}),Mousetrap.bind("mod",function(){return e.multiSelect=!0},"keydown"),Mousetrap.bind("mod",function(){return e.multiSelect=!1},"keyup"),Mousetrap.bind("shift",function(){return e.aspectRatio=!0},"keydown"),Mousetrap.bind("shift",function(){return e.aspectRatio=!1},"keyup")}}]),e}();n["default"]=l,t.exports=n["default"]},{"./Symbols.js":10}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var u=e("../helpers/Throw.js"),a=r(u),o=e("../shapes/Rectangle.js"),i=r(o);n["default"]=function(e){var t={rectangle:i["default"]};return"undefined"!=typeof t[e]?new t[e]:new a["default"]('Cannot map "'+e+'" to a shape object')},t.exports=n["default"]},{"../helpers/Throw.js":11,"../shapes/Rectangle.js":12}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Symbols.js"),i=r(o),l=e("./KeyBindings.js"),s=r(l),f=e("./Invocator.js"),c=r(f),d=function(){function e(t){u(this,e),this[i["default"].DRAFT]=t,this[i["default"].KEY_MAP]={},new s["default"](this)}return a(e,[{key:"d3",value:function(){return this[i["default"].DRAFT][i["default"].SVG]}},{key:"groups",value:function(){return this[i["default"].DRAFT][i["default"].GROUPS]}},{key:"keyMap",value:function(){return this[i["default"].KEY_MAP]}},{key:"select",value:function(e){var t=e.include,n=e.exclude;c["default"].includeExclude(this,this[i["default"].DRAFT].deselect,{include:t,exclude:n})}},{key:"deselect",value:function(e){var t=e.include,n=e.exclude;c["default"].includeExclude(this,this[i["default"].DRAFT].select,{include:t,exclude:n})}},{key:"all",value:function(){return this[i["default"].DRAFT].all()}}]),e}();n["default"]=d,t.exports=n["default"]},{"./Invocator.js":5,"./KeyBindings.js":6,"./Symbols.js":10}],9:[function(e,t,n){"use strict";function r(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var u=Object.keys(Object(r)),a=0,o=u.length;o>a;a++){var i=u[a],l=Object.getOwnPropertyDescriptor(r,i);void 0!==l&&l.enumerable&&(t[i]=r[i])}}}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.objectAssign=r},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={DRAFT:Symbol("draft"),SVG:Symbol("svg"),ELEMENT:Symbol("element"),IS_SELECTED:Symbol("isSelected"),ATTRIBUTES:Symbol("attributes"),MIDDLEMAN:Symbol("middleman"),SHAPE:Symbol("shape"),SHAPES:Symbol("shapes"),GROUPS:Symbol("groups"),OPTIONS:Symbol("options"),ABILITIES:Symbol("abilities"),KEY_MAP:Symbol("keyMap")},t.exports=n["default"]},{}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function a(e){throw r(this,a),new Error("Draft.js: "+e+".")};n["default"]=u,t.exports=n["default"]},{}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var u=e,a=t,o=n;i=s=l=void 0,r=!1,null===u&&(u=Function.prototype);var i=Object.getOwnPropertyDescriptor(u,a);if(void 0!==i){if("value"in i)return i.value;var l=i.get;return void 0===l?void 0:l.call(o)}var s=Object.getPrototypeOf(u);if(null===s)return void 0;e=s,t=a,n=o,r=!0}},l=e("./Shape.js"),s=r(l),f=function(e){function t(){u(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),o(t,[{key:"tagName",value:function(){return"rect"}},{key:"defaultAttributes",value:function(){return{fill:"blue",height:100,width:100,x:0,y:0}}}]),t}(s["default"]);n["default"]=f,t.exports=n["default"]},{"./Shape.js":13}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("../helpers/Symbols.js"),i=r(o),l=e("../abilities/Selectable.js"),s=r(l),f=e("../helpers/Throw.js"),c=r(f),d=e("../helpers/Polyfills.js"),p=e("../helpers/Attributes.js"),h=r(p),v=e("../helpers/Invocator.js"),y=r(v),b=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0];u(this,e),this[i["default"].ATTRIBUTES]=t}return a(e,[{key:"tagName",value:function(){new c["default"]("Tag name must be defined for a shape using the `tagName` method")}},{key:"isSelected",value:function(){return this[i["default"].IS_SELECTED]}},{key:"attr",value:function(e,t){return"undefined"==typeof t?this[i["default"].ELEMENT].datum()[e]:(this[i["default"].ELEMENT].datum()[e]=t,h["default"](this[i["default"].ELEMENT],e,t),this)}},{key:"didAdd",value:function(){var e=this,t=this[i["default"].MIDDLEMAN].groups().shapes,n=d.objectAssign(this.defaultAttributes(),this[i["default"].ATTRIBUTES]);this[i["default"].ELEMENT]=t.append("g").append(this.tagName()).datum({}),Object.keys(n).forEach(function(t){return e.attr(t,n[t])});var r={selectable:new s["default"]};Object.keys(r).forEach(function(t){var n=r[t];n[i["default"].SHAPE]=e,y["default"].did("add",n)}),this[i["default"].ABILITIES]=r}},{key:"didRemove",value:function(){}},{key:"didSelect",value:function(){this[i["default"].IS_SELECTED]=!0}},{key:"didDeselect",value:function(){this[i["default"].IS_SELECTED]=!1}},{key:"defaultAttributes",value:function(){return{}}}]),e}();n["default"]=b,t.exports=n["default"]},{"../abilities/Selectable.js":3,"../helpers/Attributes.js":4,"../helpers/Invocator.js":5,"../helpers/Polyfills.js":9,"../helpers/Symbols.js":10,"../helpers/Throw.js":11}]},{},[1]);