!function e(t,n,r){function a(u,o){if(!n[u]){if(!t[u]){var l="function"==typeof require&&require;if(!o&&l)return l(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var d=n[u]={exports:{}};t[u][0].call(d.exports,function(e){var n=t[u][1][e];return a(n?n:e)},d,d.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)a(r[u]);return a}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./helpers/Middleman"),o=r(u),l=e("./helpers/Symbols"),s=r(l),d=e("./helpers/BoundingBox"),f=r(d),c=e("./helpers/Polyfills"),h=e("./helpers/Invocator"),p=r(h),v=e("./helpers/Mapper"),y=r(v),b=function(){function e(t){var n=this,r=void 0===arguments[1]?{}:arguments[1];a(this,e),this[s["default"].SHAPES]=[],this[s["default"].OPTIONS]=(Object.assign||c.objectAssign)(this.options(),r);var i=this[s["default"].MIDDLEMAN]=new o["default"](this);this[s["default"].BOUNDING_BOX]=new f["default"](i);var u=this[s["default"].OPTIONS].documentWidth,l=this[s["default"].OPTIONS].documentHeight,d=this[s["default"].SVG]=d3.select(t).attr("width",u).attr("height",l),h=function(){return d3.event.stopPropagation()};this[s["default"].LAYERS]={shapes:d.append("g").attr("class","shapes").on("click",h),markers:d.append("g").attr("class","markers").on("click",h)},d.on("click",function(){i.preventDeselect()||n.deselect(),i.preventDeselect(!1)})}return i(e,[{key:"add",value:function(e){e="string"==typeof e?y["default"](e):e;var t=this[s["default"].SHAPES];return t.push(e),e[s["default"].MIDDLEMAN]=this[s["default"].MIDDLEMAN],p["default"].did("add",e),e}},{key:"remove",value:function(e){var t=this[s["default"].SHAPES],n=t.indexOf(e);return t.splice(n,1),p["default"].did("remove",e),t.length}},{key:"clear",value:function(){var e=this[s["default"].SHAPES];return p["default"].did("remove",e),e.length=0,e.length}},{key:"all",value:function(){return this[s["default"].SHAPES]}},{key:"select",value:function(){var e=void 0===arguments[0]?this.all():arguments[0];p["default"].did("select",e),this[s["default"].BOUNDING_BOX].drawBoundingBox(this.selected(),this[s["default"].LAYERS].markers)}},{key:"deselect",value:function(){var e=void 0===arguments[0]?this.all():arguments[0];p["default"].did("deselect",e),this[s["default"].BOUNDING_BOX].drawBoundingBox(this.selected(),this[s["default"].LAYERS].markers)}},{key:"selected",value:function(){return this.all().filter(function(e){return e.isSelected()})}},{key:"options",value:function(){return this[s["default"].OPTIONS]||{documentHeight:"100%",documentWidth:"100%",gridSize:10}}}]),e}();!function(e){e&&(e.Draft=b)}(window),n["default"]=b,t.exports=n["default"]},{"./helpers/BoundingBox":6,"./helpers/Invocator":7,"./helpers/Mapper":9,"./helpers/Middleman":10,"./helpers/Polyfills":11,"./helpers/Symbols":12}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("../helpers/Symbols"),o=r(u),l=function(){function e(){a(this,e)}return i(e,[{key:"shape",value:function(){return this[o["default"].SHAPE]}},{key:"middleman",value:function(){return this.shape()[o["default"].MIDDLEMAN]}}]),e}();n["default"]=l,t.exports=n["default"]},{"../helpers/Symbols":12}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var a=e,i=t,u=n;o=s=l=void 0,r=!1,null===a&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,i);if(void 0!==o){if("value"in o)return o.value;var l=o.get;return void 0===l?void 0:l.call(u)}var s=Object.getPrototypeOf(a);if(null===s)return void 0;e=s,t=i,n=u,r=!0}},l=e("./Ability"),s=r(l),d=function(e){function t(){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.RADIUS=22,this.edges={}}return i(t,e),u(t,[{key:"didSelect",value:function(){this.reattachHandles()}},{key:"didDeselect",value:function(){this.detachHandles()}},{key:"reattachHandles",value:function(){this.detachHandles(),this.attachHandles()}},{key:"attachHandles",value:function(){var e=this,t=this.shape(),n=this.middleman().layers().markers;this.handles=n.append("g").attr("class","resize-handles");var r=t.attr("x"),a=t.attr("y"),i=t.attr("width"),u=t.attr("height"),o={topLeft:{x:r,y:a},topMiddle:{x:r+i/2,y:a},topRight:{x:r+i,y:a},leftMiddle:{x:r,y:a+u/2},bottomLeft:{x:r,y:a+u},bottomMiddle:{x:r+i/2,y:a+u},bottomRight:{x:r+i,y:a+u},rightMiddle:{x:r+i,y:a+u/2}};Object.keys(o).forEach(function(n){var r=o[n],a=e.drag(t,n);e.edges[n]=e.handles.append("image").attr("xlink:href","images/handle-main.png").attr("x",r.x-e.RADIUS/2).attr("y",r.y-e.RADIUS/2).attr("stroke","red").attr("stroke-width",3).attr("width",e.RADIUS).attr("height",e.RADIUS).on("click",function(){return d3.event.stopPropagation()}).call(d3.behavior.drag().on("dragstart",a.start).on("drag",a.drag).on("dragend",a.end))})}},{key:"detachHandles",value:function(){this.handles&&this.handles.remove()}},{key:"popUnique",value:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r]=t[r]?t[r]+1:1}var a=Object.keys(t).filter(function(e){return 1===t[e]});return a.length?Number(a[0]):e[0]}},{key:"shiftHandles",value:function(e){var t=this,n=[],r=/(?=[A-Z])/,a=Object.keys(this.edges);a.forEach(function(e){var r=t.edges[e];n[e]={x:Number(r.attr("x")),y:Number(r.attr("y"))}});var i={top:this.popUnique([n.topLeft.y,n.topMiddle.y,n.topRight.y]),right:this.popUnique([n.topRight.x,n.rightMiddle.x,n.bottomRight.x]),bottom:this.popUnique([n.bottomLeft.y,n.bottomMiddle.y,n.bottomRight.y]),left:this.popUnique([n.topLeft.x,n.leftMiddle.x,n.bottomLeft.x])},u={topMiddle:(i.left+i.right)/2,rightMiddle:(i.top+i.bottom)/2,bottomMiddle:(i.left+i.right)/2,leftMiddle:(i.top+i.bottom)/2};a.forEach(function(n){if(e!==n){var a=n.split(r).map(function(e){return e.toLowerCase()});if("middle"===a[1])return"topMiddle"===n||"bottomMiddle"===n?(t.edges[n].attr("y",i[a[0]]),void t.edges[n].attr("x",u[n])):(t.edges[n].attr("y",u[n]),void t.edges[n].attr("x",i[a[0]]));t.edges[n].attr("y",i[a[0]]),t.edges[n].attr("x",i[a[1]])}})}},{key:"drag",value:function(e,t){var n=this.middleman(),r=this.handles,a=this.RADIUS,i=this.reattachHandles.bind(this),u=this.shiftHandles.bind(this),o=void 0,l=void 0,s=void 0;return{start:function(){n.preventDeselect(!0);var t=d3.select(this).classed("dragging",!0);return s=e.attr("width")/e.attr("height"),o=d3.event.sourceEvent.pageX-parseInt(t.attr("x")),l=d3.event.sourceEvent.pageY-parseInt(t.attr("y")),{x:o,y:l}},drag:function(){var i=n.options(),s=d3.select(this),d=d3.event.sourceEvent.pageX-o,f=d3.event.sourceEvent.pageY-l,c=Math.ceil(d/i.gridSize)*i.gridSize,h=Math.ceil(f/i.gridSize)*i.gridSize,p=r.node().getBBox();return"topMiddle"!==t&&"bottomMiddle"!==t&&s.attr("x",c),"rightMiddle"!==t&&"leftMiddle"!==t&&s.attr("y",h),u(t),e.attr("x",p.x+a/2).attr("y",p.y+a/2).attr("height",p.height-a).attr("width",p.width-a),{x:c,y:h}},end:function(){n.select([e]),i()}}}}]),t}(s["default"]);n["default"]=d,t.exports=n["default"]},{"./Ability":2}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var a=e,i=t,u=n;o=s=l=void 0,r=!1,null===a&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,i);if(void 0!==o){if("value"in o)return o.value;var l=o.get;return void 0===l?void 0:l.call(u)}var s=Object.getPrototypeOf(a);if(null===s)return void 0;e=s,t=i,n=u,r=!0}},l=e("./Ability"),s=r(l),d=e("./../helpers/Symbols"),f=r(d),c=function(e){function t(){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"didAdd",value:function(){var e=this,t=this.shape()[f["default"].ELEMENT];t.on("click",this.handleClick.bind(this)),t.call(d3.behavior.drag().on("drag",function(){return e.handleDrag()}))}},{key:"handleDrag",value:function(){this.handleClick();var e=this.shape()[f["default"].MIDDLEMAN];e.preventDeselect(!0);var t=new MouseEvent("mousedown",{bubbles:!0,cancelable:!1});t.overrideX=d3.event.sourceEvent.pageX,t.overrideY=d3.event.sourceEvent.pageY;var n=e.boundingBox().bBox.node();return n.dispatchEvent(t),t}},{key:"handleClick",value:function(){var e=this.middleman()[f["default"].KEY_MAP];return this.shape().isSelected()?e.multiSelect?void this.middleman().deselect({include:this.shape()}):void this.middleman().deselect({exclude:this.shape()}):(e.multiSelect||this.middleman().deselect({exclude:this.shape()}),void this.middleman().select({include:this.shape()}))}}]),t}(s["default"]);n["default"]=c,t.exports=n["default"]},{"./../helpers/Symbols":12,"./Ability":2}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e,t,n){switch(t){case"x":var r=e.datum().y||0;return void e.attr("transform","translate("+n+", "+r+")");case"y":var a=e.datum().x||0;return void e.attr("transform","translate("+a+", "+n+")")}e.attr(t,n)},t.exports=n["default"]},{}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Symbols"),l=r(o),s=function(){function e(t){i(this,e),this[l["default"].MIDDLEMAN]=t}return u(e,[{key:"handleClick",value:function(){var e=this[l["default"].MIDDLEMAN];if(d3.event.stopPropagation(),e.preventDeselect())return void e.preventDeselect(!1);var t=d3.event.pageX,n=d3.event.pageY;this.bBox.attr("pointer-events","none");var r=document.elementFromPoint(t,n);if(this.bBox.attr("pointer-events","all"),e.fromElement(r)){var a=new MouseEvent("click",{bubbles:!0,cancelable:!1});r.dispatchEvent(a)}}},{key:"drawBoundingBox",value:function(e,t){var n,r,i,u=this;if(this.bBox&&this.bBox.remove(),0!==e.length){var o={minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:Number.MIN_VALUE,maxY:Number.MIN_VALUE},l=function(e){o.minX=Math.min.apply(Math,a(e.map(function(e){return e.x}))),o.minY=Math.min.apply(Math,a(e.map(function(e){return e.y}))),o.maxX=Math.max.apply(Math,a(e.map(function(e){return e.x+e.width}))),o.maxY=Math.max.apply(Math,a(e.map(function(e){return e.y+e.height})))};l(e.map(function(e){return e.boundingBox()})),this.bBox=t.append("rect").datum(o).classed("drag-box",!0).attr("x",function(e){return e.minX}).attr("y",function(e){return e.minY}).attr("width",function(e){return e.maxX-e.minX}).attr("height",function(e){return e.maxY-e.minY}).on("click",this.handleClick.bind(this));var s=["dragstart",function(){return u.dragStart()}],d=["drag",function(){return u.drag()}],f=["dragend",function(){return u.dragEnd()}];this.bBox.call((n=(r=(i=d3.behavior.drag()).on.apply(i,s)).on.apply(r,d)).on.apply(n,f))}}},{key:"dragStart",value:function(){var e=void 0===arguments[0]?null:arguments[0],t=void 0===arguments[1]?null:arguments[1],n=Number(this.bBox.attr("x")),r=Number(this.bBox.attr("y"));this.start={x:null!==e?e:(d3.event.sourceEvent.overrideX||d3.event.sourceEvent.pageX)-n,y:null!==t?t:(d3.event.sourceEvent.overrideY||d3.event.sourceEvent.pageY)-r},this.move={start:{x:n,y:r},end:{}}}},{key:"drag",value:function(){var e=void 0===arguments[0]?null:arguments[0],t=void 0===arguments[1]?null:arguments[1],n=void 0===arguments[2]?this[l["default"].MIDDLEMAN].options().gridSize:arguments[2];this[l["default"].MIDDLEMAN].preventDeselect(!0),e=null!==e?e:d3.event.sourceEvent.pageX,t=null!==t?t:d3.event.sourceEvent.pageY;var r=e-this.start.x,a=t-this.start.y,i=Math.ceil(r/n)*n,u=Math.ceil(a/n)*n;this.bBox.datum().x=i,this.bBox.datum().y=u,this.bBox.attr("x",i),this.bBox.attr("y",u),this.move.end={x:i,y:u}}},{key:"dragEnd",value:function(){var e=this.move.end.x-this.move.start.x,t=this.move.end.y-this.move.start.y;isNaN(e)||isNaN(t)||this[l["default"].MIDDLEMAN].selected().forEach(function(n){var r=n.attr("x"),a=n.attr("y"),i=r+e,u=a+t;n.attr("x",i).attr("y",u),n.didMove()})}}]),e}();n["default"]=s,t.exports=n["default"]},{"./Symbols":12}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./Symbols"),i=r(a),u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;n>a;a++)r[a-2]=arguments[a];return"function"==typeof e[t]?(e[t].apply(e,r),!0):!1},o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};n["default"]=function(){return{did:function(e,t){return t=Array.isArray(t)?t:[t],t.every(function(t){return u(t,"did"+o(e))})},includeExclude:function(e,t){var n=void 0===arguments[2]?{}:arguments[2],r=n.include||void 0,a=n.exclude||void 0,u=e[i["default"].MIDDLEMAN],o=function(e){return e=Array.isArray(e)?e:[e],u.all().filter(function(t){return!~e.indexOf(t)})};return r?void t.apply(e,[r]):a?void t.apply(e,[o(a)]):void t.apply(e)}}}(),t.exports=n["default"]},{"./Symbols":12}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./Symbols"),o=r(u),l=function(){function e(t){a(this,e);var n=t[o["default"].KEY_MAP];this[o["default"].MIDDLEMAN]=t,n.multiSelect=!1,n.aspectRatio=!1,this.attachBindings(n)}return i(e,[{key:"attachBindings",value:function(e){var t=this;Mousetrap.bind("mod+a",function(){return t[o["default"].MIDDLEMAN].select()}),Mousetrap.bind("mod",function(){return e.multiSelect=!0},"keydown"),Mousetrap.bind("mod",function(){return e.multiSelect=!1},"keyup"),Mousetrap.bind("shift",function(){return e.aspectRatio=!0},"keydown"),Mousetrap.bind("shift",function(){return e.aspectRatio=!1},"keyup")}}]),e}();n["default"]=l,t.exports=n["default"]},{"./Symbols":12}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("../helpers/Throw"),i=r(a),u=e("../shapes/Rectangle"),o=r(u);n["default"]=function(e){var t={rectangle:o["default"]};return"undefined"!=typeof t[e]?new t[e]:new i["default"]('Cannot map "'+e+'" to a shape object')},t.exports=n["default"]},{"../helpers/Throw":13,"../shapes/Rectangle":14}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./Symbols"),o=r(u),l=e("./KeyBindings"),s=r(l),d=e("./Invocator"),f=r(d),c=function(){function e(t){a(this,e),this[o["default"].DRAFT]=t,this[o["default"].KEY_MAP]={},this[o["default"].CAN_DESELECT]=!1,new s["default"](this)}return i(e,[{key:"d3",value:function(){return this[o["default"].DRAFT][o["default"].SVG]}},{key:"layers",value:function(){return this[o["default"].DRAFT][o["default"].LAYERS]}},{key:"options",value:function(){return this[o["default"].DRAFT].options()}},{key:"keyMap",value:function(){return this[o["default"].KEY_MAP]}},{key:"select",value:function(e){f["default"].includeExclude(this[o["default"].DRAFT],this[o["default"].DRAFT].select,e)}},{key:"deselect",value:function(e){f["default"].includeExclude(this[o["default"].DRAFT],this[o["default"].DRAFT].deselect,e)}},{key:"all",value:function(){return this[o["default"].DRAFT].all()}},{key:"selected",value:function(){return this[o["default"].DRAFT].selected()}},{key:"fromElement",value:function(e){return this.all().filter(function(t){return e===t[o["default"].ELEMENT].node()})[0]}},{key:"preventDeselect",value:function(e){return"undefined"==typeof e?this[o["default"].CAN_DESELECT]:void(this[o["default"].CAN_DESELECT]=e)}},{key:"boundingBox",value:function(){return this[o["default"].DRAFT][o["default"].BOUNDING_BOX]}}]),e}();n["default"]=c,t.exports=n["default"]},{"./Invocator":7,"./KeyBindings":8,"./Symbols":12}],11:[function(e,t,n){"use strict";function r(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var a=Object.keys(Object(r)),i=0,u=a.length;u>i;i++){var o=a[i],l=Object.getOwnPropertyDescriptor(r,o);void 0!==l&&l.enumerable&&(t[o]=r[o])}}}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.objectAssign=r},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={DRAFT:Symbol("draft"),SVG:Symbol("svg"),ELEMENT:Symbol("element"),IS_SELECTED:Symbol("isSelected"),ATTRIBUTES:Symbol("attributes"),MIDDLEMAN:Symbol("middleman"),SHAPE:Symbol("shape"),SHAPES:Symbol("shapes"),LAYERS:Symbol("layers"),GROUP:Symbol("group"),BOUNDING_BOX:Symbol("boundingBox"),OPTIONS:Symbol("options"),ABILITIES:Symbol("abilities"),KEY_MAP:Symbol("keyMap"),CAN_DESELECT:Symbol("canDeselect")},t.exports=n["default"]},{}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function i(e){throw r(this,i),new Error("Draft.js: "+e+".")};n["default"]=a,t.exports=n["default"]},{}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var a=e,i=t,u=n;o=s=l=void 0,r=!1,null===a&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,i);if(void 0!==o){if("value"in o)return o.value;var l=o.get;return void 0===l?void 0:l.call(u)}var s=Object.getPrototypeOf(a);if(null===s)return void 0;e=s,t=i,n=u,r=!0}},l=e("./Shape"),s=r(l),d=function(e){function t(){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"tagName",value:function(){return"rect"}},{key:"defaultAttributes",value:function(){return{fill:"blue",height:100,width:100,x:0,y:0}}}]),t}(s["default"]);n["default"]=d,t.exports=n["default"]},{"./Shape":15}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("../helpers/Symbols"),o=r(u),l=e("../helpers/Throw"),s=r(l),d=e("../helpers/Polyfills"),f=e("../helpers/Attributes"),c=r(f),h=e("../helpers/Invocator"),p=r(h),v=e("../abilities/Selectable"),y=r(v),b=e("../abilities/Resizable"),m=r(b),g=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0];a(this,e),this[o["default"].ATTRIBUTES]=t}return i(e,[{key:"tagName",value:function(){new s["default"]("Tag name must be defined for a shape using the `tagName` method")}},{key:"isSelected",value:function(){return this[o["default"].IS_SELECTED]}},{key:"attr",value:function(e,t){return"undefined"==typeof t?this[o["default"].ELEMENT].datum()[e]:(this[o["default"].ELEMENT].datum()[e]=t,c["default"](this[o["default"].ELEMENT],e,t),this)}},{key:"didAdd",value:function(){var e=this,t=this[o["default"].MIDDLEMAN].layers().shapes,n=d.objectAssign(this.defaultAttributes(),this[o["default"].ATTRIBUTES]);this[o["default"].GROUP]=t.append("g"),this[o["default"].ELEMENT]=this[o["default"].GROUP].append(this.tagName()).datum({}),Object.keys(n).forEach(function(t){return e.attr(t,n[t])});var r={selectable:new y["default"],resizable:new m["default"]};Object.keys(r).forEach(function(t){var n=r[t];n[o["default"].SHAPE]=e,p["default"].did("add",n)}),this[o["default"].ABILITIES]=r}},{key:"didRemove",value:function(){}},{key:"didMove",value:function(){this[o["default"].ABILITIES].resizable.reattachHandles()}},{key:"didSelect",value:function(){this[o["default"].IS_SELECTED]=!0,this[o["default"].ABILITIES].resizable.didSelect()}},{key:"didDeselect",value:function(){this[o["default"].IS_SELECTED]=!1,this[o["default"].ABILITIES].resizable.didDeselect()}},{key:"boundingBox",value:function(){var e="function"==typeof this[o["default"].GROUP].node().getBBox;return e?this[o["default"].GROUP].node().getBBox():{height:this.attr("height"),width:this.attr("width"),x:this.attr("x"),y:this.attr("y")}}},{key:"defaultAttributes",value:function(){return{}}}]),e}();n["default"]=g,t.exports=n["default"]},{"../abilities/Resizable":3,"../abilities/Selectable":4,"../helpers/Attributes":5,"../helpers/Invocator":7,"../helpers/Polyfills":11,"../helpers/Symbols":12,"../helpers/Throw":13}]},{},[1]);